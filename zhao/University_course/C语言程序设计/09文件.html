<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>09文件</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://study1994.github.io/study_html/npm/prism.css"><link rel="stylesheet" href="https://study1994.github.io/study_html/npm/markmap-toolbar@0.13.5/dist/style.css">
</head>
<body>
    <svg id="mindmap"></svg>
    <script src="https://study1994.github.io/study_html/npm/d3@6.7.0"></script>
    <script src="https://study1994.github.io/study_html/npm/markmap-view@0.13.5"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=AM_HTMLorMML-full"></script>
    <script>
        (r => {
            setTimeout(r);
        })(() => {
  const {
    markmap,
    mm
  } = window;
  const toolbar = new markmap.Toolbar();
  toolbar.attach(mm);
  const el = toolbar.render();
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root, jsonOptions) => {
        const markmap = getMarkmap();
        window.mm = markmap.Markmap.create('svg#mindmap', (getOptions || markmap.deriveOptions)(jsonOptions), root);
      })(() => window.markmap,null,{'type': 'root', 'depth': 0, 'content': '', 'children': [{'type': 'heading', 'depth': 1, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">概述</p>所谓文件是指存储在外部存储介质上的数据集合。这个数据集有一个名称，叫做文件名。<br>\n操作系统是以文件为单位对数据进行管理的。<br>'}, {'type': 'heading', 'depth': 1, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">文件概述</p>', 'children': [{'type': 'heading', 'depth': 2, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">驻留在外部介质（如磁盘等）上的，在使用时才被调入到内存中</p>'}, {'type': 'heading', 'depth': 2, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">按用户使用角度分类</p>', 'children': [{'type': 'heading', 'depth': 3, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">普通文件是指驻留在磁盘或其他外部介质上的一个有序数据集</p>将源文件、目标文件、可执行程序称作程序文件<br>\n将输入输出的数据文件称作数据文件<br>'}, {'type': 'heading', 'depth': 3, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">设备文件是指与主机相联的各种外部设备</p>从键盘上输入：scanf()，getchar()函数<br>'}]}, {'type': 'heading', 'depth': 2, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">按文件中数据的组织格式分类</p>', 'children': [{'type': 'heading', 'depth': 3, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">ASCII码文件</p>'}, {'type': 'heading', 'depth': 3, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">二进制码文件</p>'}]}, {'type': 'heading', 'depth': 2, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">按对文件处理方法的不同分类</p>', 'children': [{'type': 'heading', 'depth': 3, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">缓冲文件系统是指，系统自动地在内存区为每一个正在使用的文件开辟一个缓冲区</p>'}, {'type': 'heading', 'depth': 3, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">非缓冲文件系统是指系统不自动开辟确定大小的缓冲区，而由程序为每个文件设定缓冲区</p>'}]}]}, {'type': 'heading', 'depth': 1, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">文件指针</p>', 'children': [{'type': 'heading', 'depth': 2, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">定义文件指针</p>\n<p><code>FILE *指针变量标识符;</code>:<code>FILE *fp;</code>由系统定义的一个结构体<br></p>'}]}, {'type': 'heading', 'depth': 1, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">文件打开与关闭</p>', 'children': [{'type': 'heading', 'depth': 2, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">fopen()函数</p>`FILE *fopen(char *filename, char *type);`<br>\n`文件指针名=fopen("文件名","使用文件方式");`文件指针名”必须是被定义为FILE类型的指针变量<br>\n<font size="0"><pre class="language-c"><code class="language-c">FILE *fp1\nif((fp1=("c:\\\\gbtext.txt","rb"))==NULL){\n\tprintf("\\nerror on open c:\\gbtext.txt ");\n\tgetch();\n\texit(1);\n}\n</code></pre></font>'}, {'type': 'heading', 'depth': 2, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">fclose()函数</p>`int fclose(FILE *stream);`<br>\n`fclose(文件指针);`<br>\n<font size="0"><pre class="language-c"><code class="language-c">if((fp=fclose(fp))!=0)\n\tprintf("\\nerror：fail in file close!");\n</code></pre></font>'}]}, {'type': 'heading', 'depth': 1, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">文件读写`stdio.h`</p>', 'children': [{'type': 'heading', 'depth': 2, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">字符读写函数：fgetc()和fputc()</p>`int fgetc(FILE *stream);`<br>\n`字符变量=fgetc(文件指针);`:`ch=fgetc(fp);`<br>\n<font size="0"><pre class="language-c"><code class="language-c">#include<stdio.h>\nint main(){\n\tFILE *fp;\t\t\t\t\t\t\t    /*文件指针*/\n\tchar ch;\n\tif((fp=fopen("file1.txt","r"))==NULL){\t/*打开文件*/\n\t\tprintf("\\nCannot open file:file1.txt!\\n strike any key exit!");\n\t\tgetch();\n\t\texit(1);\n\t}\n\tch=fgetc(fp);\t\t\t\t            /*读取文件中一个字符*/\n\twhile(ch!=EOF){\t\t\t\t\t        /*循环读取文件中字符*/\n\t\tputchar(ch);\n\t\tch=fgetc(fp);\n\t}\n\tfclose(fp);\t\t\t\t\t\t        /*关闭文件*/\n\treturn 0;\n}\n</code></pre></font>'}, {'type': 'heading', 'depth': 2, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">字符读写函数：fgetc()和fputc()</p>`int fputc(int ch, FILE *stream);`<br>\n`fputc(字符量,文件指针);`:`fputc(\'a\',fp);`<br>\n<font size="0"><pre class="language-c"><code class="language-c">#include<stdio.h>\nint main(){\n\tFILE *fp;\t\t\t\t\t\t           /*文件指针*/\n\tchar ch;\n\tif((fp=fopen("string.txt","w+"))==NULL){   /*打开文件*/\n\t\tprintf("Cannot open file string.txt!\\n strike any key exit!");\n\t\tgetch();\n\t\texit(1);\n\t}\n\tprintf("input a string:\\n");\n\tch=getchar();\t\t\t\t\t           /*从键盘输入字符*/\n\twhile (ch!=\'\\n\'){\t\t\t\t           /*当输入不是回车时循环*/\n\t\tfputc(ch,fp);\t\t\t\t           /*将字符写入文件*/\n\t\tch=getchar();\t\t\t\t           /*从键盘输入字符*/\n\t}\n\trewind(fp);\t\t                           /*rewind()函数将fp所指文件的内部指针移至文件头*/\n\tch=fgetc(fp);\t\t\t\t\t           /*读取文件中字符*/\n\twhile(ch!=EOF){\t\t\t\t               /*循环读取文件中字符*/\n\t\tputchar(ch);\n\t\tch=fgetc(fp);\n\t}\n\tprintf("\\n");\n\tfclose(fp);\t\t\t\t\t\t\t       /*关闭文件*/\n\treturn 0;\n}\n</code></pre></font>'}, {'type': 'heading', 'depth': 2, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">字符串读写函数：fgets()和fputs()</p>'}, {'type': 'heading', 'depth': 2, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">数据块读写函数：fread()和fwrite()</p>'}, {'type': 'heading', 'depth': 2, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">格式化读写函数：fscanf()和fprintf()</p>'}]}, {'type': 'heading', 'depth': 1, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">文件定位</p>'}, {'type': 'heading', 'depth': 1, 'payload': {'lines': [0, 1]}, 'content': '<p style="color: blue;font-weight: bold;">文件检测</p>'}]})</script></body>
</html>
