<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="http://zhao-study.gitee.io/code_html/tools/prism.css"><link rel="stylesheet" href="http://zhao-study.gitee.io/code_html/tools/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="http://zhao-study.gitee.io/code_html/tools/d3@6.7.0"></script><script src="http://zhao-study.gitee.io/code_html/tools/markmap-view@0.13.2"></script><script src="http://zhao-study.gitee.io/code_html/tools/index.umd.min.js"></script><script>(r => {
                setTimeout(r);
              })(() => {
  const {
    markmap,
    mm
  } = window;
  const toolbar = new markmap.Toolbar();
  toolbar.attach(mm);
  const el = toolbar.render();
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root, jsonOptions) => {
        const markmap = getMarkmap();
        window.mm = markmap.Markmap.create('svg#mindmap', getOptions == null ? void 0 : getOptions(markmap, jsonOptions), root);
      })(() => window.markmap,(markmap, jsonOptions) => markmap.deriveOptions(jsonOptions),{"type":"root","depth":0,"content":"","children":[{"type":"heading","depth":1,"payload":{"lines":[0,1]},"content":"概述","children":[{"type":"list_item","depth":3,"payload":{"lines":[1,3]},"content":"所谓文件是指存储在外部存储介质上的数据集合。这个数据集有一个名称，叫做文件名。<br>\n操作系统是以文件为单位对数据进行管理的。"}]},{"type":"heading","depth":1,"payload":{"lines":[3,4]},"content":"文件概述","children":[{"type":"heading","depth":2,"payload":{"lines":[4,5]},"content":"驻留在外部介质（如磁盘等）上的，在使用时才被调入到内存中"},{"type":"heading","depth":2,"payload":{"lines":[5,6]},"content":"按用户使用角度分类","children":[{"type":"heading","depth":3,"payload":{"lines":[6,7]},"content":"普通文件是指驻留在磁盘或其他外部介质上的一个有序数据集","children":[{"type":"list_item","depth":5,"payload":{"lines":[7,8]},"content":"将源文件、目标文件、可执行程序称作程序文件"},{"type":"list_item","depth":5,"payload":{"lines":[8,9]},"content":"将输入输出的数据文件称作数据文件"}]},{"type":"heading","depth":3,"payload":{"lines":[9,10]},"content":"设备文件是指与主机相联的各种外部设备","children":[{"type":"list_item","depth":5,"payload":{"lines":[10,11]},"content":"从键盘上输入：scanf()，getchar()函数"}]}]},{"type":"heading","depth":2,"payload":{"lines":[11,12]},"content":"按文件中数据的组织格式分类","children":[{"type":"heading","depth":3,"payload":{"lines":[12,13]},"content":"ASCII码文件"},{"type":"heading","depth":3,"payload":{"lines":[13,14]},"content":"二进制码文件"}]},{"type":"heading","depth":2,"payload":{"lines":[14,15]},"content":"按对文件处理方法的不同分类","children":[{"type":"heading","depth":3,"payload":{"lines":[15,16]},"content":"缓冲文件系统是指，系统自动地在内存区为每一个正在使用的文件开辟一个缓冲区"},{"type":"heading","depth":3,"payload":{"lines":[16,17]},"content":"非缓冲文件系统是指系统不自动开辟确定大小的缓冲区，而由程序为每个文件设定缓冲区"}]}]},{"type":"heading","depth":1,"payload":{"lines":[18,19]},"content":"文件指针","children":[{"type":"heading","depth":2,"payload":{"lines":[19,20]},"content":"定义文件指针","children":[{"type":"list_item","depth":4,"payload":{"lines":[20,21]},"content":"<code>FILE *指针变量标识符;</code>:<code>FILE *fp;</code>由系统定义的一个结构体"}]}]},{"type":"heading","depth":1,"payload":{"lines":[22,23]},"content":"文件打开与关闭","children":[{"type":"heading","depth":2,"payload":{"lines":[23,24]},"content":"fopen()函数","children":[{"type":"bullet_list","depth":3,"payload":{"lines":[24,26]},"content":"","children":[{"type":"list_item","depth":4,"payload":{"lines":[24,25]},"content":"<code>FILE *fopen(char *filename, char *type);</code>"},{"type":"list_item","depth":4,"payload":{"lines":[25,26]},"content":"<code>文件指针名=fopen(&quot;文件名&quot;,&quot;使用文件方式&quot;);</code>文件指针名”必须是被定义为FILE类型的指针变量"}]},{"type":"fence","depth":3,"content":"<pre class=\"language-c\"><code class=\"language-c\">FILE <span class=\"token operator\">*</span>fp1\n<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>fp1<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"c:\\\\gbtext.txt\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"rb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">==</span><span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nerror on open c:\\gbtext.txt \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">getch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n"}]},{"type":"heading","depth":2,"payload":{"lines":[34,35]},"content":"fclose()函数","children":[{"type":"bullet_list","depth":3,"payload":{"lines":[35,37]},"content":"","children":[{"type":"list_item","depth":4,"payload":{"lines":[35,36]},"content":"<code>int fclose(FILE *stream);</code>"},{"type":"list_item","depth":4,"payload":{"lines":[36,37]},"content":"<code>fclose(文件指针);</code>"}]},{"type":"fence","depth":3,"content":"<pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>fp<span class=\"token operator\">=</span><span class=\"token function\">fclose</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nerror：fail in file close!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n"}]}]},{"type":"heading","depth":1,"payload":{"lines":[41,42]},"content":"文件读写<code>stdio.h</code>","children":[{"type":"heading","depth":2,"payload":{"lines":[42,43]},"content":"字符读写函数：fgetc()和fputc()","children":[{"type":"bullet_list","depth":3,"payload":{"lines":[43,45]},"content":"","children":[{"type":"list_item","depth":4,"payload":{"lines":[43,44]},"content":"<code>int fgetc(FILE *stream);</code>"},{"type":"list_item","depth":4,"payload":{"lines":[44,45]},"content":"<code>字符变量=fgetc(文件指针);</code>:<code>ch=fgetc(fp);</code>"}]},{"type":"fence","depth":3,"content":"<pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span><span class=\"token string\">&lt;stdio.h></span></span>\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    FILE <span class=\"token operator\">*</span>fp<span class=\"token punctuation\">;</span>                               <span class=\"token comment\">/*文件指针*/</span>\n    <span class=\"token keyword\">char</span> ch<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>fp<span class=\"token operator\">=</span><span class=\"token function\">fopen</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"file1.txt\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"r\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">==</span><span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>  <span class=\"token comment\">/*打开文件*/</span>\n        <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nCannot open file:file1.txt!\\n strike any key exit!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">getch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    ch<span class=\"token operator\">=</span><span class=\"token function\">fgetc</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                           <span class=\"token comment\">/*读取文件中一个字符*/</span>\n    <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>ch<span class=\"token operator\">!=</span><span class=\"token constant\">EOF</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>                         <span class=\"token comment\">/*循环读取文件中字符*/</span>\n        <span class=\"token function\">putchar</span><span class=\"token punctuation\">(</span>ch<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        ch<span class=\"token operator\">=</span><span class=\"token function\">fgetc</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">fclose</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                             <span class=\"token comment\">/*关闭文件*/</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n"},{"type":"bullet_list","depth":3,"payload":{"lines":[64,66]},"content":"","children":[{"type":"list_item","depth":4,"payload":{"lines":[64,65]},"content":"<code>int fputc(int ch, FILE *stream);</code>"},{"type":"list_item","depth":4,"payload":{"lines":[65,66]},"content":"<code>fputc(字符量,文件指针);</code>:<code>fputc('a',fp);</code>"}]},{"type":"fence","depth":3,"content":"<pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span><span class=\"token string\">&lt;stdio.h></span></span>\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    FILE <span class=\"token operator\">*</span>fp<span class=\"token punctuation\">;</span>                                  <span class=\"token comment\">/*文件指针*/</span>\n    <span class=\"token keyword\">char</span> ch<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>fp<span class=\"token operator\">=</span><span class=\"token function\">fopen</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"string.txt\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"w+\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">==</span><span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>   <span class=\"token comment\">/*打开文件*/</span>\n        <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cannot open file string.txt!\\n strike any key exit!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">getch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"input a string:\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    ch<span class=\"token operator\">=</span><span class=\"token function\">getchar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                              <span class=\"token comment\">/*从键盘输入字符*/</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>ch<span class=\"token operator\">!=</span><span class=\"token char\">'\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>                          <span class=\"token comment\">/*当输入不是回车时循环*/</span>\n        <span class=\"token function\">fputc</span><span class=\"token punctuation\">(</span>ch<span class=\"token punctuation\">,</span>fp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                          <span class=\"token comment\">/*将字符写入文件*/</span>\n        ch<span class=\"token operator\">=</span><span class=\"token function\">getchar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                          <span class=\"token comment\">/*从键盘输入字符*/</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">rewind</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                                <span class=\"token comment\">/*rewind()函数将fp所指文件的内部指针移至文件头*/</span>\n    ch<span class=\"token operator\">=</span><span class=\"token function\">fgetc</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                              <span class=\"token comment\">/*读取文件中字符*/</span>\n    <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>ch<span class=\"token operator\">!=</span><span class=\"token constant\">EOF</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>                            <span class=\"token comment\">/*循环读取文件中字符*/</span>\n        <span class=\"token function\">putchar</span><span class=\"token punctuation\">(</span>ch<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        ch<span class=\"token operator\">=</span><span class=\"token function\">fgetc</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">fclose</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                                <span class=\"token comment\">/*关闭文件*/</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n"}]},{"type":"heading","depth":2,"payload":{"lines":[93,94]},"content":"字符串读写函数：fgets()和fputs()"},{"type":"heading","depth":2,"payload":{"lines":[94,95]},"content":"数据块读写函数：fread()和fwrite()"},{"type":"heading","depth":2,"payload":{"lines":[95,96]},"content":"格式化读写函数：fscanf()和fprintf()"}]},{"type":"heading","depth":1,"payload":{"lines":[96,97]},"content":"文件定位"},{"type":"heading","depth":1,"payload":{"lines":[97,98]},"content":"文件检测"}],"payload":{}},{})</script>
</body>
</html>
